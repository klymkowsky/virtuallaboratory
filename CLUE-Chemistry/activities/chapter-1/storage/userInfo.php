<?php require_once('../../../../CLUE/StudentMaterials/chapter-1/Connections/beSocratic.php'); ?><?php//initialize the sessionif (!isset($_SESSION)) {  session_start();}//if the client rejected our session cookie, put the session id into the query stringif (!isset($_COOKIE["PHPSESSID"])) {	$_SERVER['QUERY_STRING'] = htmlspecialchars(session_name()."=".session_id());}?><?phpif (!function_exists("GetSQLValueString")) {function GetSQLValueString($theValue, $theType, $theDefinedValue = "", $theNotDefinedValue = "") {  if (PHP_VERSION < 6) {    $theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;  }  $theValue = function_exists("mysql_real_escape_string") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);  switch ($theType) {    case "text":      $theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";      break;        case "long":    case "int":      $theValue = ($theValue != "") ? intval($theValue) : "NULL";      break;    case "double":      $theValue = ($theValue != "") ? doubleval($theValue) : "NULL";      break;    case "date":      $theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";      break;    case "defined":      $theValue = ($theValue != "") ? $theDefinedValue : $theNotDefinedValue;      break;  }  return $theValue;}}mysql_select_db($database_beSocratic, $beSocratic);$query_Recordset1 = "SELECT sessions.`key` FROM sessions WHERE sessions.session_id=" . GetSQLValueString(session_id(), "text");$Recordset1 = mysql_query($query_Recordset1, $beSocratic) or die(mysql_error());$row_Recordset1 = mysql_fetch_assoc($Recordset1);$totalRows_Recordset1 = mysql_num_rows($Recordset1);if ( $totalRows_Recordset1 > 0 ) {  $insertGoTo = "tutorial1.php";  if (isset($_SERVER['QUERY_STRING'])) {    $insertGoTo .= (strpos($insertGoTo, '?')) ? "&" : "?";    $insertGoTo .= $_SERVER['QUERY_STRING'];  }  header(sprintf("Location: %s", $insertGoTo));  mysql_free_result($getSessionKey);  exit;}?><?phpif (!function_exists("GetSQLValueString")) {function GetSQLValueString($theValue, $theType, $theDefinedValue = "", $theNotDefinedValue = "") {  if (PHP_VERSION < 6) {    $theValue = get_magic_quotes_gpc() ? stripslashes($theValue) : $theValue;  }  $theValue = function_exists("mysql_real_escape_string") ? mysql_real_escape_string($theValue) : mysql_escape_string($theValue);  switch ($theType) {    case "text":      $theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";      break;        case "long":    case "int":      $theValue = ($theValue != "") ? intval($theValue) : "NULL";      break;    case "double":      $theValue = ($theValue != "") ? doubleval($theValue) : "NULL";      break;    case "date":      $theValue = ($theValue != "") ? "'" . $theValue . "'" : "NULL";      break;    case "defined":      $theValue = ($theValue != "") ? $theDefinedValue : $theNotDefinedValue;      break;  }  return $theValue;}}$editFormAction = $_SERVER['PHP_SELF'];if (isset($_SERVER['QUERY_STRING'])) {  $editFormAction .= "?" . htmlentities($_SERVER['QUERY_STRING']);}if ((isset($_POST["MM_insert"])) && ($_POST["MM_insert"] == "form1")) {  $insertSQL = sprintf("INSERT INTO sessions (firstName, lastName, institution, session_id) VALUES (%s, %s, %s, %s)",                       GetSQLValueString($_POST['firstName'], "text"),                       GetSQLValueString($_POST['lastName'], "text"),                       GetSQLValueString($_POST['institution'], "text"),					   GetSQLValueString(session_id(), "text"));  mysql_select_db($database_beSocratic, $beSocratic);  $Result1 = mysql_query($insertSQL, $beSocratic) or die(mysql_error());  $insertGoTo = "../../../../CLUE/StudentMaterials/chapter-1/storage/tutorial1.php";  if (isset($_SERVER['QUERY_STRING'])) {    $insertGoTo .= (strpos($insertGoTo, '?')) ? "&" : "?";    $insertGoTo .= $_SERVER['QUERY_STRING'];  }  header(sprintf("Location: %s", $insertGoTo));}?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">   <meta name="Content-Type" content="text/html; charset=iso-8859-1">   <meta name="description" content="BeSocratic (be socratic) tutorials in the sciences">   <meta name="keywords" content="Klymkowsky, Boulder, BeSocratic, be socratic, molecular biology, evolutionary biology, chemistry & physics">   <meta name="GENERATOR" content="Mozilla/4.75 (Macintosh; U; PPC) [Netscape]">   <meta name="KeyWords" content="Klymkowsky, BeSocratic, Teaching and learning science">   <title>BeSocratic - Mendel's factors and Muller's mutations tutorial</title>   <script src="../../../../CLUE/StudentMaterials/chapter-1/storage/Scripts/AC_RunActiveContent.js" type="text/javascript"></script><meta name="keywords" content="Mendel and Muller, mutations and phenotypes"></head><style type="text/css"><!--.unnamed1 {  background-color: #FFFFFF}--></style><style type="text/css">   <!--   a:link {  text-decoration: none}   a:visited {  text-decoration: none}   a:active {  text-decoration: none}   a:hover {  text-decoration: bold}.style8 {font-size: x-small; color: #000000; }.style9 {font-size: -1}.style10 {font-family: Optima}.optima {	font-family: Optima Regular;}.grey {	color: #B3B3B3;}   -->   </style><body text="#000000" bgcolor="#FCFDFF" alink="#FF4908"><table width="600" border="0" cellpadding="0" cellspacing="0">    <tr>     <td>       <hr size="1">    </td>  </tr></table><table width="600" border="0" cellpadding="0" cellspacing="0">  <tr>  <td><p>Before you begin the tutorial, please let us know your name and the institution you are studying at.</p></td>  </tr>  <tr>      <td width="402"><form action="<?php echo $editFormAction; ?>" method="post" name="form1" id="form1">  <table align="left">    <tr valign="baseline">      <td nowrap="nowrap" align="right">FirstName:</td>      <td><input type="text" name="firstName" value="" size="32" /></td>    </tr>    <tr valign="baseline">      <td nowrap="nowrap" align="right">LastName:</td>      <td><input type="text" name="lastName" value="" size="32" /></td>    </tr>    <tr valign="baseline">      <td nowrap="nowrap" align="right">Institution:</td>      <td><input type="text" name="institution" value="" size="32" /></td>    </tr>    <tr valign="baseline">      <td nowrap="nowrap" align="right">&nbsp;</td>      <td><input type="submit" value="Proceed to the Tutorial" /></td>    </tr>  </table>  <input type="hidden" name="MM_insert" value="form1" /></form></td>    </tr>  <tr>    <td><p>We only use this information to learn how our tutorials are working for you and our other visitors. It will not be shared with anyone not directly involved in the Be-Socratic web project.</p></td>  </tr></table><table width="600" border="0" cellpadding="0" cellspacing="0">  <tr>    <td height="2">      <hr>    </td>  </tr></table><span class="grey">&copy;&nbsp;quixotic partners</span></body></html><?phpmysql_free_result($getSessionKey);?>